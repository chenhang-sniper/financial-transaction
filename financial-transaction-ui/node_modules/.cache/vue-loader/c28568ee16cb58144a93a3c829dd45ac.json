{"remainingRequest":"D:\\code\\financial-transaction\\ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\financial-transaction\\ui\\src\\views\\Transactions.vue?vue&type=style&index=0&id=2d8e6fe2&scoped=true&lang=css","dependencies":[{"path":"D:\\code\\financial-transaction\\ui\\src\\views\\Transactions.vue","mtime":1747925310205},{"path":"D:\\code\\financial-transaction\\ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1747927105214},{"path":"D:\\code\\financial-transaction\\ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1747927101650},{"path":"D:\\code\\financial-transaction\\ui\\node_modules\\postcss-loader\\src\\index.js","mtime":1747927102917},{"path":"D:\\code\\financial-transaction\\ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747927121292},{"path":"D:\\code\\financial-transaction\\ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1747927101632}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoudHJhbnNhY3Rpb25zIHsNCiAgcGFkZGluZzogMjBweDsNCn0NCg=="},{"version":3,"sources":["Transactions.vue"],"names":[],"mappings":";AAiFA;AACA;AACA","file":"Transactions.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"transactions\">\r\n    <h1>交易清单</h1>\r\n    <el-date-picker\r\n        v-model=\"searchDate\"\r\n        type=\"date\"\r\n        placeholder=\"选择日期\"\r\n        @change=\"fetchTransactions\"\r\n    ></el-date-picker>\r\n    <el-button type=\"primary\" @click=\"openAddTransactionDialog\">新增交易</el-button>\r\n    <el-table :data=\"transactions\" style=\"width: 100%\">\r\n      <el-table-column prop=\"id\" label=\"ID\" width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"type\" label=\"类型\" width=\"120\"></el-table-column>\r\n      <el-table-column prop=\"amount\" label=\"金额\" width=\"120\"></el-table-column>\r\n      <el-table-column prop=\"timestamp\" label=\"时间\"></el-table-column>\r\n      <el-table-column label=\"操作\" width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"openEditTransactionDialog(scope.row)\">编辑</el-button>\r\n          <el-button type=\"danger\" @click=\"deleteTransaction(scope.row.id)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n        @current-change=\"handlePageChange\"\r\n        :current-page=\"currentPage\"\r\n        :page-size=\"pageSize\"\r\n        :total=\"totalTransactions\"\r\n        layout=\"prev, pager, next\"\r\n    ></el-pagination>\r\n    <el-dialog title=\"交易信息\" :visible.sync=\"dialogVisible\" width=\"30%\">\r\n      <TransactionForm :transaction=\"selectedTransaction\" @submit=\"handleFormSubmit\"></TransactionForm>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'vuex'\r\nimport TransactionForm from '../components/TransactionForm.vue'\r\n\r\nexport default {\r\n  components: {\r\n    TransactionForm,\r\n  },\r\n  data() {\r\n    return {\r\n      searchDate: '',\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      dialogVisible: false,\r\n      selectedTransaction: null,\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('transactions', ['transactions', 'totalTransactions']),\r\n  },\r\n  methods: {\r\n    ...mapActions('transactions', ['fetchTransactions', 'deleteTransaction']),\r\n    handlePageChange(page) {\r\n      this.currentPage = page\r\n      this.fetchTransactions({ page, date: this.searchDate })\r\n    },\r\n    openAddTransactionDialog() {\r\n      this.selectedTransaction = null\r\n      this.dialogVisible = true\r\n    },\r\n    openEditTransactionDialog(transaction) {\r\n      this.selectedTransaction = { ...transaction }\r\n      this.dialogVisible = true\r\n    },\r\n    handleFormSubmit(transaction) {\r\n      this.dialogVisible = false\r\n      this.fetchTransactions({ page: this.currentPage, date: this.searchDate })\r\n    },\r\n  },\r\n  created() {\r\n    this.fetchTransactions({ page: this.currentPage, date: this.searchDate })\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.transactions {\r\n  padding: 20px;\r\n}\r\n</style>"]}]}