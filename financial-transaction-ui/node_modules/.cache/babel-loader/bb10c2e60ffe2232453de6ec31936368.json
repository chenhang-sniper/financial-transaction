{"remainingRequest":"D:\\code\\financial-transaction\\financial-transaction-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\financial-transaction\\financial-transaction-ui\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\code\\financial-transaction\\financial-transaction-ui\\src\\services\\api.js","dependencies":[{"path":"D:\\code\\financial-transaction\\financial-transaction-ui\\src\\services\\api.js","mtime":1748027191636},{"path":"D:\\code\\financial-transaction\\financial-transaction-ui\\babel.config.js","mtime":1747928015601},{"path":"D:\\code\\financial-transaction\\financial-transaction-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747927121292},{"path":"D:\\code\\financial-transaction\\financial-transaction-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1747927121309},{"path":"D:\\code\\financial-transaction\\financial-transaction-ui\\node_modules\\eslint-loader\\index.js","mtime":1747927107966}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCi8vCi8vIC8vIOS7gOS5iOS4gOS4quaVsOe7hOeUqOS6juWtmOWCqOavj+S4quivt+axgueahOWPlua2iOWHveaVsOWSjOagh+ivhgovLyBsZXQgcGVuZGluZyA9IFtdOwovLyBsZXQgY2FuY2VsQ29uZmlnID0gbnVsbDsKLy8gbGV0IENhbmNlbFRva2VuID0gYXhpb3MuQ2FuY2VsVG9rZW47Ci8vIGxldCByZW1vdmVQZW5kaW5nID0gKGNvbmZpZykgPT4gewovLyAgICAgZm9yIChsZXQgcCA9IDA7IHAgPCBwZW5kaW5nLmxlbmd0aDsgcCsrKSB7Ci8vICAgICAgICAgY29uc3QgcGFyYW1zID0gSlNPTi5zdHJpbmdpZnkoY29uZmlnLnBhcmFtcyk7Ci8vICAgICAgICAgLy8g5aaC5p6c5a2Y5Zyo5YiZ5omn6KGM5Y+W5raI5pON5L2cCi8vICAgICAgICAgaWYgKHBlbmRpbmdbcF0udSA9PT0gY29uZmlnLnVybCArICcmJyArIGNvbmZpZy5tZXRob2QgKyAnJicgKyBwYXJhbXMpIHsKLy8gICAgICAgICAgICAgLy8gcGVuZGluZ1twXS5mKCk7Ly8g5omn6KGM5Y+W5raI5pON5L2cCi8vICAgICAgICAgICAgIHBlbmRpbmcuc3BsaWNlKHAsIDEpOy8vIOenu+mZpOiusOW9lQovLyAgICAgICAgIH0KLy8gICAgIH0KLy8gfTsKLy8KLy8gbGV0IGN1dFJlcSA9IChjb25maWcpID0+IHsKLy8gICAgIGZvciAobGV0IHAgPSAwOyBwIDwgcGVuZGluZy5sZW5ndGg7IHArKykgewovLyAgICAgICAgIGNvbnN0IHBhcmFtcyA9IEpTT04uc3RyaW5naWZ5KGNvbmZpZy5wYXJhbXMpOwovLyAgICAgICAgIGlmIChwZW5kaW5nW3BdLnUgPT09IGNvbmZpZy51cmwgKyAnJicgKyBjb25maWcubWV0aG9kICsgJyYnICsgcGFyYW1zKSB7Ci8vICAgICAgICAgICAgIHJldHVybiB0cnVlOwovLyAgICAgICAgIH0KLy8gICAgIH0KLy8gfTsKCnZhciBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogIiIsCiAgdGltZW91dDogNjAwMDAwLAogIHdpdGhDcmVkZW50aWFsczogdHJ1ZSwKICBoZWFkZXJzOiB7CiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcKICB9Cn0pOwovLwovLyBpbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoKGNvbmZpZykgPT4gewovLyAgICAgLy8g5aKe5Yqg5Zu96ZmF5YyW5Y+C5pWwCi8vICAgICBjb25maWcuaGVhZGVyc1snQ29udGVudC1sYW5ndWFnZSddID0gJ3poLUNOJzsKLy8gICAgIGxldCBmbGFnID0gY3V0UmVxKGNvbmZpZyk7Ci8vICAgICAvLyDlvZPkuIrkuIDmrKHnm7jlkIzor7fmsYLmnKrlrozmiJDml7bvvIzml6Dms5Xov5vooYznrKzkuozmrKHnm7jlkIzor7fmsYIKLy8gICAgIGlmIChmbGFnID09PSB0cnVlKSB7Ci8vICAgICAgICAgcmVtb3ZlUGVuZGluZyhjb25maWcpOwovLyAgICAgICAgIHJldHVybiBjb25maWc7Ci8vICAgICB9IGVsc2UgewovLyAgICAgICAgIGNvbnN0IHBhcmFtcyA9IEpTT04uc3RyaW5naWZ5KGNvbmZpZy5wYXJhbXMpOwovLyAgICAgICAgIC8vIOeUqOS6juato+W4uOivt+axguWHuueOsOmUmeivr+aXtuenu+mZpAovLyAgICAgICAgIGNhbmNlbENvbmZpZyA9IGNvbmZpZzsKLy8gICAgICAgICBjb25maWcuY2FuY2VsVG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oKGMpID0+IHsKLy8gICAgICAgICAgICAgLy8g5re75Yqg5qCH6K+G5ZKM5Y+W5raI5Ye95pWwCi8vICAgICAgICAgICAgIHBlbmRpbmcucHVzaCh7Ci8vICAgICAgICAgICAgICAgICB1OiBjb25maWcudXJsICsgJyYnICsgY29uZmlnLm1ldGhvZCArICcmJyArIHBhcmFtcywKLy8gICAgICAgICAgICAgICAgIGY6IGMsCi8vICAgICAgICAgICAgIH0pOwovLyAgICAgICAgIH0pOwovLyAgICAgICAgIHJldHVybiBjb25maWc7Ci8vICAgICB9Ci8vIH0sIChlcnJvcikgPT4gewovLyAgICAgUHJvbWlzZS5yZWplY3QoZXJyb3IpOwovLyB9KTsKLy8KLy8gaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSgocmVzcG9uc2UpID0+IHsKLy8gICAgIHJlc3BvbnNlLmNvbmZpZy5tZXRhZGF0YS5lbmRUaW1lID0gRGF0ZS5ub3coKQovLyAgICAgY29uc3QgZHVyYXRpb24gPSByZXNwb25zZS5jb25maWcubWV0YWRhdGEuZW5kVGltZSAtIHJlc3BvbnNlLmNvbmZpZy5tZXRhZGF0YS5zdGFydFRpbWUKLy8gICAgIGlmICh3aW5kb3cuJFdhICYmIGR1cmF0aW9uID4gMjAwMCkgd2luZG93LiRXYS5sb2coYOaOpeWPo+iAl+aXtiAke2R1cmF0aW9ufTogJHtyZXNwb25zZS5jb25maWcudXJsfWApOwovLyAgICAgLy8g5Zyo5LiA5LiqYWpheOWTjeW6lOaIkOWKn+WQjuWGjeaJp+ihjOWPlua2iOaTjeS9nO+8jOaKiuW3suWujOaIkOeahOivt+axguS7jnBlbmRpbmfkuK3np7vpmaQKLy8gICAgIHJlbW92ZVBlbmRpbmcocmVzcG9uc2UuY29uZmlnKTsKLy8gICAgIHJldHVybiByZXNwb25zZTsKLy8gfSwgKGVycm9yKSA9PiB7Ci8vICAgICBlcnJvci5jb25maWcubWV0YWRhdGEuZW5kVGltZSA9IERhdGUubm93KCkKLy8gICAgIGNvbnN0IGR1cmF0aW9uID0gZXJyb3IuY29uZmlnLm1ldGFkYXRhLmVuZFRpbWUgLSBlcnJvci5jb25maWcubWV0YWRhdGEuc2FydFRpbWUKLy8gICAgIGlmICh3aW5kb3cuJFdhICYmIGR1cmF0aW9uID4gMjAwMCkgd2luZG93LiRXYS5sb2coYOaOpeWPo+iAl+aXtiAke2R1cmF0aW9ufTogJHtlcnJvci5jb25maWcudXJsfWApOwovLyAgICAgLy8g5Ye6546w5o6l5Y+j5byC5bi45oiW6ICF6LaF5pe25pe255qE5Yik5patCi8vICAgICBpZiAoKGVycm9yLm1lc3NhZ2UgJiYgZXJyb3IubWVzc2FnZS5pbmRleE9mKCd0aW1lb3V0JykgPj0gMCkgfHwgKGVycm9yLnJlcXVlc3QgJiYgZXJyb3IucmVxdWVzdC5zdGF0dXMgIT09IDIwMCkpIHsKLy8gICAgICAgICBmb3IgKGxldCBwIGluIHBlbmRpbmcpIHsKLy8gICAgICAgICAgICAgaWYgKHBlbmRpbmdbcF0udSA9PT0gY2FuY2VsQ29uZmlnLnVybCArICcmJyArIGNhbmNlbENvbmZpZy5tZXRob2QgKyAnJicgKyBKU09OLnN0cmluZ2lmeShjYW5jZWxDb25maWcucGFyYW1zKSkgewovLyAgICAgICAgICAgICAgICAgcGVuZGluZy5zcGxpY2UocCwgMSk7Ly8g56e76Zmk6K6w5b2VCi8vICAgICAgICAgICAgIH0KLy8gICAgICAgICB9Ci8vICAgICAgICAgLy8g5LyY5YWI6L+U5Zue5ZCO5Y+w6L+U5Zue55qE6ZSZ6K+v5L+h5oGv77yM5YW25qyh5piv5o6l5Y+j6L+U5ZueCi8vICAgICAgICAgcmV0dXJuIGVycm9yLnJlc3BvbnNlIHx8IGVycm9yOwovLyAgICAgfSBlbHNlIGlmIChheGlvcy5DYW5jZWwpIHsKLy8gICAgICAgICAvLyDlpoLmnpzmmK9wZW5nZGluZ+eKtuaAge+8jOW8ueWHuuaPkOekuu+8gQovLyAgICAgICAgIHJldHVybiB7Ci8vICAgICAgICAgICAgIC8vIGRhdGE6IHsgbWVzc2FnZTogJ+aOpeWPo+ivt+axguS4re+8geivt+eojeWQjuKApuKApicgfSwKLy8gICAgICAgICB9OwovLyAgICAgfSBlbHNlIHsKLy8gICAgICAgICByZXR1cm4gZXJyb3I7Ci8vICAgICB9Ci8vIH0pOwovLyBsZXQgc2hvd0xvZ2luVGlwcyA9IGZhbHNlCnZhciBhcGkgPSB7CiAgaW5zdGFuY2U6IGluc3RhbmNlLAogIGVycm9yOiB7CiAgICAnLTEnOiBmdW5jdGlvbiBfKHJlcykgewogICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICBhbGVydCgi6K+356iN5ZCO6YeN6K+V77yBIik7CiAgICB9CiAgfSwKICBjb25zdHJ1Y3Rpb25PZlJlc3BvbnNlOiB7CiAgICBjb2RlUGF0aDogJ3N0YXR1cycsCiAgICBzdWNjZXNzQ29kZTogJzAnLAogICAgbWVzc2FnZVBhdGg6ICdtZXNzYWdlJywKICAgIHJlc3VsdFBhdGg6ICdkYXRhJwogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKGVuZHBvaW50LCBkYXRhKSB7CiAgICB2YXIgbWV0aG9kID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnZ2V0JzsKICAgIHJldHVybiBheGlvcyh7CiAgICAgIHVybDogZW5kcG9pbnQsCiAgICAgIG1ldGhvZDogbWV0aG9kLAogICAgICBkYXRhOiBtZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gJ3Bvc3QnIHx8IG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSAncHV0JyA/IGRhdGEgOiBudWxsLAogICAgICBwYXJhbXM6IG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSAnZ2V0JyB8fCBtZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gJ2RlbGV0ZScgPyBkYXRhIDogbnVsbAogICAgfSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBhcGk7"},{"version":3,"names":["axios","instance","create","baseURL","timeout","withCredentials","headers","api","error","_","res","console","log","alert","constructionOfResponse","codePath","successCode","messagePath","resultPath","fetch","endpoint","data","method","arguments","length","undefined","url","toLowerCase","params"],"sources":["D:/code/financial-transaction/financial-transaction-ui/src/services/api.js"],"sourcesContent":["import axios from 'axios'\r\n\r\n//\r\n// // 什么一个数组用于存储每个请求的取消函数和标识\r\n// let pending = [];\r\n// let cancelConfig = null;\r\n// let CancelToken = axios.CancelToken;\r\n// let removePending = (config) => {\r\n//     for (let p = 0; p < pending.length; p++) {\r\n//         const params = JSON.stringify(config.params);\r\n//         // 如果存在则执行取消操作\r\n//         if (pending[p].u === config.url + '&' + config.method + '&' + params) {\r\n//             // pending[p].f();// 执行取消操作\r\n//             pending.splice(p, 1);// 移除记录\r\n//         }\r\n//     }\r\n// };\r\n//\r\n// let cutReq = (config) => {\r\n//     for (let p = 0; p < pending.length; p++) {\r\n//         const params = JSON.stringify(config.params);\r\n//         if (pending[p].u === config.url + '&' + config.method + '&' + params) {\r\n//             return true;\r\n//         }\r\n//     }\r\n// };\r\n\r\nconst instance = axios.create({\r\n    baseURL: ``,\r\n    timeout: 600000,\r\n    withCredentials: true,\r\n    headers: { 'Content-Type': 'application/json;charset=UTF-8' },\r\n});\r\n//\r\n// instance.interceptors.request.use((config) => {\r\n//     // 增加国际化参数\r\n//     config.headers['Content-language'] = 'zh-CN';\r\n//     let flag = cutReq(config);\r\n//     // 当上一次相同请求未完成时，无法进行第二次相同请求\r\n//     if (flag === true) {\r\n//         removePending(config);\r\n//         return config;\r\n//     } else {\r\n//         const params = JSON.stringify(config.params);\r\n//         // 用于正常请求出现错误时移除\r\n//         cancelConfig = config;\r\n//         config.cancelToken = new CancelToken((c) => {\r\n//             // 添加标识和取消函数\r\n//             pending.push({\r\n//                 u: config.url + '&' + config.method + '&' + params,\r\n//                 f: c,\r\n//             });\r\n//         });\r\n//         return config;\r\n//     }\r\n// }, (error) => {\r\n//     Promise.reject(error);\r\n// });\r\n//\r\n// instance.interceptors.response.use((response) => {\r\n//     response.config.metadata.endTime = Date.now()\r\n//     const duration = response.config.metadata.endTime - response.config.metadata.startTime\r\n//     if (window.$Wa && duration > 2000) window.$Wa.log(`接口耗时 ${duration}: ${response.config.url}`);\r\n//     // 在一个ajax响应成功后再执行取消操作，把已完成的请求从pending中移除\r\n//     removePending(response.config);\r\n//     return response;\r\n// }, (error) => {\r\n//     error.config.metadata.endTime = Date.now()\r\n//     const duration = error.config.metadata.endTime - error.config.metadata.sartTime\r\n//     if (window.$Wa && duration > 2000) window.$Wa.log(`接口耗时 ${duration}: ${error.config.url}`);\r\n//     // 出现接口异常或者超时时的判断\r\n//     if ((error.message && error.message.indexOf('timeout') >= 0) || (error.request && error.request.status !== 200)) {\r\n//         for (let p in pending) {\r\n//             if (pending[p].u === cancelConfig.url + '&' + cancelConfig.method + '&' + JSON.stringify(cancelConfig.params)) {\r\n//                 pending.splice(p, 1);// 移除记录\r\n//             }\r\n//         }\r\n//         // 优先返回后台返回的错误信息，其次是接口返回\r\n//         return error.response || error;\r\n//     } else if (axios.Cancel) {\r\n//         // 如果是pengding状态，弹出提示！\r\n//         return {\r\n//             // data: { message: '接口请求中！请稍后……' },\r\n//         };\r\n//     } else {\r\n//         return error;\r\n//     }\r\n// });\r\n// let showLoginTips = false\r\nconst api = {\r\n    instance: instance,\r\n    error: {\r\n        '-1': function (res) {\r\n            console.log(res);\r\n            alert(\"请稍后重试！\");\r\n        },\r\n    },\r\n    constructionOfResponse: {\r\n        codePath: 'status',\r\n        successCode: '0',\r\n        messagePath: 'message',\r\n        resultPath: 'data',\r\n    },\r\n    fetch(endpoint, data, method = 'get') {\r\n        return axios({\r\n            url: endpoint,\r\n            method: method,\r\n            data: method.toLowerCase() === 'post' || method.toLowerCase() === 'put' ? data : null,\r\n            params: method.toLowerCase() === 'get' || method.toLowerCase() === 'delete' ? data : null,\r\n        });\r\n    },\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAM,CAAC;EAC1BC,OAAO,IAAI;EACXC,OAAO,EAAE,MAAM;EACfC,eAAe,EAAE,IAAI;EACrBC,OAAO,EAAE;IAAE,cAAc,EAAE;EAAiC;AAChE,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMC,GAAG,GAAG;EACRN,QAAQ,EAAEA,QAAQ;EAClBO,KAAK,EAAE;IACH,IAAI,EAAE,SAANC,CAAIA,CAAYC,GAAG,EAAE;MACjBC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChBG,KAAK,CAAC,QAAQ,CAAC;IACnB;EACJ,CAAC;EACDC,sBAAsB,EAAE;IACpBC,QAAQ,EAAE,QAAQ;IAClBC,WAAW,EAAE,GAAG;IAChBC,WAAW,EAAE,SAAS;IACtBC,UAAU,EAAE;EAChB,CAAC;EACDC,KAAK,WAALA,KAAKA,CAACC,QAAQ,EAAEC,IAAI,EAAkB;IAAA,IAAhBC,MAAM,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;IAChC,OAAOvB,KAAK,CAAC;MACT0B,GAAG,EAAEN,QAAQ;MACbE,MAAM,EAAEA,MAAM;MACdD,IAAI,EAAEC,MAAM,CAACK,WAAW,CAAC,CAAC,KAAK,MAAM,IAAIL,MAAM,CAACK,WAAW,CAAC,CAAC,KAAK,KAAK,GAAGN,IAAI,GAAG,IAAI;MACrFO,MAAM,EAAEN,MAAM,CAACK,WAAW,CAAC,CAAC,KAAK,KAAK,IAAIL,MAAM,CAACK,WAAW,CAAC,CAAC,KAAK,QAAQ,GAAGN,IAAI,GAAG;IACzF,CAAC,CAAC;EACN;AACJ,CAAC;AAED,eAAed,GAAG","ignoreList":[]}]}