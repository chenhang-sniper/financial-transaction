{"remainingRequest":"D:\\code\\financial-transaction\\financial-transaction-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\financial-transaction\\financial-transaction-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\code\\financial-transaction\\financial-transaction-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\financial-transaction\\financial-transaction-ui\\src\\views\\Transactions.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\code\\financial-transaction\\financial-transaction-ui\\src\\views\\Transactions.vue","mtime":1748031280747},{"path":"D:\\code\\financial-transaction\\financial-transaction-ui\\babel.config.js","mtime":1747928015601},{"path":"D:\\code\\financial-transaction\\financial-transaction-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747927121292},{"path":"D:\\code\\financial-transaction\\financial-transaction-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1747927121309},{"path":"D:\\code\\financial-transaction\\financial-transaction-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747927121292},{"path":"D:\\code\\financial-transaction\\financial-transaction-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1747927101632}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovY29kZS9maW5hbmNpYWwtdHJhbnNhY3Rpb24vZmluYW5jaWFsLXRyYW5zYWN0aW9uLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IFRyYW5zYWN0aW9uRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1RyYW5zYWN0aW9uRm9ybS52dWUnOwppbXBvcnQgYWN0aW9ucyBmcm9tICcuLi9zdG9yZS90cmFuc2FjdGlvbnMnOyAvLyDlvJXlhaVhY3Rpb25z5qih5Z2XCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgVHJhbnNhY3Rpb25Gb3JtOiBUcmFuc2FjdGlvbkZvcm0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2hQYXJhbXM6IHsKICAgICAgICBhY2NvdW50SWQ6IG51bGwsCiAgICAgICAgdHJhbnNhY3Rpb25UeXBlOiBudWxsLAogICAgICAgIHRyYW5zYWN0aW9uTWV0aG9kOiBudWxsLAogICAgICAgIHRyYW5zYWN0aW9uU3RhdHVzOiBudWxsLAogICAgICAgIHN0YXJ0VGltZTogbnVsbCwKICAgICAgICBlbmRUaW1lOiBudWxsCiAgICAgIH0sCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBzZWxlY3RlZFRyYW5zYWN0aW9uOiBudWxsLAogICAgICB0cmFuc2FjdGlvbnM6IFtdLAogICAgICAvLyDkuqTmmJPorrDlvZXmlbDmja4KICAgICAgdG90YWxUcmFuc2FjdGlvbnM6IDAgLy8g5oC76K6w5b2V5pWwCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlUGFnZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlUGFnZUNoYW5nZShwYWdlKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYWdlOwogICAgICB0aGlzLnNlYXJjaCgpOwogICAgfSwKICAgIG9wZW5BZGRUcmFuc2FjdGlvbkRpYWxvZzogZnVuY3Rpb24gb3BlbkFkZFRyYW5zYWN0aW9uRGlhbG9nKCkgewogICAgICB0aGlzLnNlbGVjdGVkVHJhbnNhY3Rpb24gPSB7fTsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBvcGVuRWRpdFRyYW5zYWN0aW9uRGlhbG9nOiBmdW5jdGlvbiBvcGVuRWRpdFRyYW5zYWN0aW9uRGlhbG9nKHRyYW5zYWN0aW9uKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRUcmFuc2FjdGlvbiA9IF9vYmplY3RTcHJlYWQoe30sIHRyYW5zYWN0aW9uKTsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBoYW5kbGVGb3JtU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVGb3JtU3VibWl0KHRyYW5zYWN0aW9uKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICBpZiAodHJhbnNhY3Rpb24uaWQpIHsKICAgICAgICAvLyDmm7TmlrDkuqTmmJMKICAgICAgICBhY3Rpb25zLnVwZGF0ZVRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICfkv53lrZjmiJDlip8nCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfdGhpcy5zZWFyY2goKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gdXBkYXRlIHRyYW5zYWN0aW9uczonICsgcmVzcG9uc2UuZGF0YS5tc2cKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gdXBkYXRlIHRyYW5zYWN0aW9uczonICsgZXJyb3IKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOaWsOWinuS6pOaYkwogICAgICAgIGFjdGlvbnMuc2F2ZVRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICfkv53lrZjmiJDlip8nCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfdGhpcy5zZWFyY2goKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gc2F2ZSB0cmFuc2FjdGlvbnM6JyArIHJlc3BvbnNlLmRhdGEubXNnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHNhdmUgdHJhbnNhY3Rpb25zOicgKyBlcnJvcgogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBwYXJhbXMgPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgICBwYWdlTm86IHRoaXMuY3VycmVudFBhZ2UsCiAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUKICAgICAgfSwgdGhpcy5zZWFyY2hQYXJhbXMpOwogICAgICBhY3Rpb25zLmZldGNoVHJhbnNhY3Rpb25zKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICBfdGhpczIudHJhbnNhY3Rpb25zID0gcmVzcG9uc2UuZGF0YS5kYXRhLnRvdGFsTGlzdCB8fCBbXTsKICAgICAgICAgIF90aGlzMi50b3RhbFRyYW5zYWN0aW9ucyA9IHJlc3BvbnNlLmRhdGEuZGF0YS50b3RhbCB8fCAwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGZldGNoIHRyYW5zYWN0aW9uczonICsgcmVzcG9uc2UuZGF0YS5tc2cKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGZldGNoIHRyYW5zYWN0aW9uczonICsgZXJyb3IKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlQ29uZmlybTogZnVuY3Rpb24gZGVsZXRlQ29uZmlybShpZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l6K6w5b2VLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5kZWxldGVUcmFuc2FjdGlvbihpZCk7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZVRyYW5zYWN0aW9uOiBmdW5jdGlvbiBkZWxldGVUcmFuc2FjdGlvbihpZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgYWN0aW9ucy5kZWxldGVUcmFuc2FjdGlvbihpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8nCiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzNC5zZWFyY2goKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM0LiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBkZWxldGUgdHJhbnNhY3Rpb25zOicgKyByZXNwb25zZS5kYXRhLm1zZwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gZGVsZXRlIHRyYW5zYWN0aW9uczonICsgZXJyb3IKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0VHlwZURlc2M6IGZ1bmN0aW9uIGdldFR5cGVEZXNjKGNvZGUpIHsKICAgICAgdmFyIHR5cGVNYXAgPSB7CiAgICAgICAgU1RPQ0s6ICfogqHnpagnLAogICAgICAgIEJPTkQ6ICflgLrliLgnLAogICAgICAgIEZVTkQ6ICfln7rph5EnLAogICAgICAgIEZVVFVSRVM6ICfmnJ/otKcnLAogICAgICAgIE9QVElPTlM6ICfmnJ/mnYMnLAogICAgICAgIEZPUkVYOiAn5aSW5rGHJywKICAgICAgICBPVEhFUlM6ICflhbbku5YnCiAgICAgIH07CiAgICAgIHJldHVybiB0eXBlTWFwW2NvZGVdIHx8ICfmnKrnn6UnOwogICAgfSwKICAgIGdldE1ldGhvZERlc2M6IGZ1bmN0aW9uIGdldE1ldGhvZERlc2MoY29kZSkgewogICAgICB2YXIgbWV0aG9kTWFwID0gewogICAgICAgIEJVWTogJ+S5sOWFpScsCiAgICAgICAgU0VMTDogJ+WNluWHuicKICAgICAgfTsKICAgICAgcmV0dXJuIG1ldGhvZE1hcFtjb2RlXSB8fCAn5pyq55+lJzsKICAgIH0sCiAgICBnZXRTdGF0dXNEZXNjOiBmdW5jdGlvbiBnZXRTdGF0dXNEZXNjKGNvZGUpIHsKICAgICAgdmFyIHN0YXR1c01hcCA9IHsKICAgICAgICBQRU5ESU5HOiAn5Lqk5piT5LitJywKICAgICAgICBTVUNDRVNTOiAn5bey5oiQ5YqfJywKICAgICAgICBDQU5DRUxMRUQ6ICflt7LmkqTplIAnCiAgICAgIH07CiAgICAgIHJldHVybiBzdGF0dXNNYXBbY29kZV0gfHwgJ+acquefpSc7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5zZWFyY2goKTsKICB9Cn07"},{"version":3,"names":["TransactionForm","actions","components","data","searchParams","accountId","transactionType","transactionMethod","transactionStatus","startTime","endTime","currentPage","pageSize","dialogVisible","selectedTransaction","transactions","totalTransactions","methods","handlePageChange","page","search","openAddTransactionDialog","openEditTransactionDialog","transaction","_objectSpread","handleFormSubmit","_this","id","updateTransaction","then","response","code","$message","type","message","msg","error","saveTransaction","_this2","params","pageNo","fetchTransactions","totalList","total","deleteConfirm","_this3","$confirm","confirmButtonText","cancelButtonText","deleteTransaction","_this4","getTypeDesc","typeMap","STOCK","BOND","FUND","FUTURES","OPTIONS","FOREX","OTHERS","getMethodDesc","methodMap","BUY","SELL","getStatusDesc","statusMap","PENDING","SUCCESS","CANCELLED","created"],"sources":["src/views/Transactions.vue"],"sourcesContent":["<template>\r\n  <div class=\"transactions\">\r\n    <!-- 搜索功能 -->\r\n    <el-form :inline=\"true\" class=\"demo-form-inline\">\r\n      <el-form-item label=\"账户ID\">\r\n        <el-input v-model=\"searchParams.accountId\" placeholder=\"输入账户ID\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"交易类型\">\r\n        <el-select v-model=\"searchParams.transactionType\" placeholder=\"选择交易类型\">\r\n          <el-option label=\"股票\" value=\"STOCK\"></el-option>\r\n          <el-option label=\"债券\" value=\"BOND\"></el-option>\r\n          <el-option label=\"基金\" value=\"FUND\"></el-option>\r\n          <el-option label=\"期货\" value=\"FUTURES\"></el-option>\r\n          <el-option label=\"期权\" value=\"OPTIONS\"></el-option>\r\n          <el-option label=\"外汇\" value=\"FOREX\"></el-option>\r\n          <el-option label=\"其他\" value=\"OTHERS\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"交易方式\">\r\n        <el-select v-model=\"searchParams.transactionMethod\" placeholder=\"选择交易方式\">\r\n          <el-option label=\"买入\" value=\"BUY\"></el-option>\r\n          <el-option label=\"卖出\" value=\"SELL\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"交易状态\">\r\n        <el-select v-model=\"searchParams.transactionStatus\" placeholder=\"选择交易状态\">\r\n          <el-option label=\"交易中\" value=\"PENDING\"></el-option>\r\n          <el-option label=\"已成功\" value=\"SUCCESS\"></el-option>\r\n          <el-option label=\"已撤销\" value=\"CANCELLED\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"交易开始日期\">\r\n        <el-date-picker\r\n            v-model=\"searchParams.startTime\"\r\n            type=\"date\"\r\n            placeholder=\"选择开始日期\"\r\n        ></el-date-picker>\r\n      </el-form-item>\r\n      <el-form-item label=\"交易结束日期\">\r\n        <el-date-picker\r\n            v-model=\"searchParams.endTime\"\r\n            type=\"date\"\r\n            placeholder=\"选择结束日期\"\r\n        ></el-date-picker>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"search\">搜索</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <!-- 操作按钮 -->\r\n    <el-button type=\"primary\" @click=\"openAddTransactionDialog\">新增交易</el-button>\r\n\r\n    <!-- 交易列表 -->\r\n    <el-table :data=\"transactions\" style=\"width: 100%\">\r\n      <el-table-column prop=\"id\" label=\"交易流水ID\" width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"accountId\" label=\"账户ID\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"交易类型\" width=\"120\">\r\n        <template slot-scope=\"scope\">\r\n          {{ getTypeDesc(scope.row.transactionType) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"交易方式\" width=\"120\">\r\n        <template slot-scope=\"scope\">\r\n          {{ getMethodDesc(scope.row.transactionMethod) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"amount\" label=\"交易金额\" width=\"120\"></el-table-column>\r\n      <el-table-column prop=\"transactionTime\" label=\"交易时间\" width=\"180\"></el-table-column>\r\n      <el-table-column label=\"交易状态\" width=\"120\">\r\n        <template slot-scope=\"scope\">\r\n          {{ getStatusDesc(scope.row.transactionStatus) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"180\"></el-table-column>\r\n      <el-table-column prop=\"updateTime\" label=\"更新时间\" width=\"180\"></el-table-column>\r\n      <el-table-column label=\"操作\" width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"openEditTransactionDialog(scope.row)\">编辑</el-button>\r\n          <el-button type=\"danger\"  @click=\"deleteConfirm(scope.row.id)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 分页 -->\r\n    <el-pagination\r\n        @current-change=\"handlePageChange\"\r\n        :current-page=\"currentPage\"\r\n        :page-size=\"pageSize\"\r\n        :total=\"totalTransactions\"\r\n        layout=\"prev, pager, next\"\r\n    ></el-pagination>\r\n\r\n    <!-- 交易信息对话框 -->\r\n    <el-dialog title=\"交易信息\" :visible.sync=\"dialogVisible\" width=\"500px\">\r\n      <TransactionForm :transaction=\"selectedTransaction\" @submit=\"handleFormSubmit\"></TransactionForm>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TransactionForm from '../components/TransactionForm.vue';\r\nimport actions from '../store/transactions'; // 引入actions模块\r\n\r\nexport default {\r\n  components: {\r\n    TransactionForm,\r\n  },\r\n  data() {\r\n    return {\r\n      searchParams: {\r\n        accountId: null,\r\n        transactionType: null,\r\n        transactionMethod: null,\r\n        transactionStatus: null,\r\n        startTime: null,\r\n        endTime: null,\r\n      },\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      dialogVisible: false,\r\n      selectedTransaction: null,\r\n      transactions: [], // 交易记录数据\r\n      totalTransactions: 0, // 总记录数\r\n    };\r\n  },\r\n  methods: {\r\n    handlePageChange(page) {\r\n      this.currentPage = page;\r\n      this.search();\r\n    },\r\n    openAddTransactionDialog() {\r\n      this.selectedTransaction = {};\r\n      this.dialogVisible = true;\r\n    },\r\n    openEditTransactionDialog(transaction) {\r\n      this.selectedTransaction = {...transaction};\r\n      this.dialogVisible = true;\r\n    },\r\n    handleFormSubmit(transaction) {\r\n      this.dialogVisible = false;\r\n      if (transaction.id) {\r\n        // 更新交易\r\n        actions.updateTransaction(transaction)\r\n            .then((response) => {\r\n              if (response.data.code === 0) {\r\n                this.$message({\r\n                  type: 'info',\r\n                  message: '保存成功'\r\n                });\r\n                this.search();\r\n              } else {\r\n                this.$message({\r\n                  type: 'error',\r\n                  message: 'Failed to update transactions:'  + response.data.msg\r\n                });\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              this.$message({\r\n                type: 'error',\r\n                message: 'Failed to update transactions:' + error\r\n              });\r\n            });\r\n      } else {\r\n        // 新增交易\r\n        actions.saveTransaction(transaction)\r\n            .then((response) => {\r\n              if (response.data.code === 0) {\r\n                this.$message({\r\n                  type: 'info',\r\n                  message: '保存成功'\r\n                });\r\n                this.search();\r\n              } else {\r\n                this.$message({\r\n                  type: 'error',\r\n                  message: 'Failed to save transactions:'  + response.data.msg\r\n                });\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              this.$message({\r\n                type: 'error',\r\n                message: 'Failed to save transactions:' + error\r\n              });\r\n            });\r\n      }\r\n    },\r\n    search() {\r\n      const params = {\r\n        pageNo: this.currentPage,\r\n        pageSize: this.pageSize,\r\n        ...this.searchParams,\r\n      };\r\n      actions.fetchTransactions(params)\r\n          .then((response) => {\r\n            if (response.data.code === 0) {\r\n              this.transactions = response.data.data.totalList || [];\r\n              this.totalTransactions = response.data.data.total || 0;\r\n            } else {\r\n              this.$message({\r\n                type: 'error',\r\n                message: 'Failed to fetch transactions:' + response.data.msg\r\n              });\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            this.$message({\r\n              type: 'error',\r\n              message: 'Failed to fetch transactions:' + error\r\n            });\r\n          });\r\n    },\r\n    deleteConfirm(id){\r\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n          this.deleteTransaction(id);\r\n      });\r\n    },\r\n    deleteTransaction(id) {\r\n      actions.deleteTransaction(id)\r\n          .then((response) => {\r\n            if (response.data.code === 0) {\r\n              this.$message({\r\n                type: 'info',\r\n                message: '删除成功'\r\n              });\r\n              this.search();\r\n            } else {\r\n              this.$message({\r\n                type: 'error',\r\n                message: 'Failed to delete transactions:' + response.data.msg\r\n              });\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            this.$message({\r\n              type: 'error',\r\n              message: 'Failed to delete transactions:' + error\r\n            });\r\n          });\r\n    },\r\n    getTypeDesc(code) {\r\n      const typeMap = {\r\n        STOCK: '股票',\r\n        BOND: '债券',\r\n        FUND: '基金',\r\n        FUTURES: '期货',\r\n        OPTIONS: '期权',\r\n        FOREX: '外汇',\r\n        OTHERS: '其他',\r\n      };\r\n      return typeMap[code] || '未知';\r\n    },\r\n    getMethodDesc(code) {\r\n      const methodMap = {\r\n        BUY: '买入',\r\n        SELL: '卖出',\r\n      };\r\n      return methodMap[code] || '未知';\r\n    },\r\n    getStatusDesc(code) {\r\n      const statusMap = {\r\n        PENDING: '交易中',\r\n        SUCCESS: '已成功',\r\n        CANCELLED: '已撤销',\r\n      };\r\n      return statusMap[code] || '未知';\r\n    },\r\n  },\r\n  created() {\r\n    this.search();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.transactions {\r\n  padding: 20px;\r\n}\r\n\r\n.demo-form-inline {\r\n  margin-bottom: 20px;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]}]}